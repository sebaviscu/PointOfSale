const _0x2037e0 = _0x36c9; function _0x36c9(_0x5e46af, _0x3bd06) { const _0x3ba3c6 = _0x3ba3(); return _0x36c9 = function (_0x36c981, _0x4d4095) { _0x36c981 = _0x36c981 - 0x182; let _0x15a2ea = _0x3ba3c6[_0x36c981]; return _0x15a2ea; }, _0x36c9(_0x5e46af, _0x3bd06); } function _0x3ba3() { const _0x3d2e2b = ['Healthcheck\x20failed:\x20', 'error', '2272044fIWcTu', '16SOmCft', 'name', '1301328fDqaux', '/getprinters', 'Error\x20during\x20healthcheck:', 'success', '9146160aVEGxY', '95jYmPuG', '77UFdRay', 'stringify', 'Error:\x20La\x20solicitud\x20de\x20impresión\x20ha\x20excedido\x20el\x20tiempo\x20de\x20espera.', 'Error\x20al\x20enviar\x20el\x20documento\x20a\x20la\x20impresora:', 'signal', 'Healthcheck\x20request\x20timed\x20out', 'https://localhost:4568', 'log', '1326236VFUvjW', '1BveyLT', 'POST', 'AbortError', '1363710ChKFnD', '/healthcheck', 'printers', '167744TyJDtE', 'statusText', '2932803LsiHzF', 'json', 'Network\x20response\x20was\x20not\x20ok:\x20', 'application/json', 'abort', '7fWEeGB']; _0x3ba3 = function () { return _0x3d2e2b; }; return _0x3ba3(); } (function (_0x58bb6e, _0x5530ef) { const _0x23bdbb = _0x36c9, _0x21e18e = _0x58bb6e(); while (!![]) { try { const _0x5af717 = parseInt(_0x23bdbb(0x191)) / 0x1 * (-parseInt(_0x23bdbb(0x190)) / 0x2) + parseInt(_0x23bdbb(0x182)) / 0x3 + parseInt(_0x23bdbb(0x197)) / 0x4 * (parseInt(_0x23bdbb(0x187)) / 0x5) + -parseInt(_0x23bdbb(0x1a1)) / 0x6 * (-parseInt(_0x23bdbb(0x19e)) / 0x7) + parseInt(_0x23bdbb(0x1a2)) / 0x8 * (-parseInt(_0x23bdbb(0x199)) / 0x9) + -parseInt(_0x23bdbb(0x194)) / 0xa * (-parseInt(_0x23bdbb(0x188)) / 0xb) + -parseInt(_0x23bdbb(0x186)) / 0xc; if (_0x5af717 === _0x5530ef) break; else _0x21e18e['push'](_0x21e18e['shift']()); } catch (_0x341793) { _0x21e18e['push'](_0x21e18e['shift']()); } } }(_0x3ba3, 0x76d8f)); const urlPrintService = _0x2037e0(0x18e); async function fetchWithTimeout(_0x1094fd, _0x4a23c3 = {}) { const _0x3bd096 = _0x2037e0, { timeout: timeout = 0x2710 } = _0x4a23c3, _0x4ed287 = new AbortController(), _0x2b8ecf = setTimeout(() => _0x4ed287[_0x3bd096(0x19d)](), timeout), _0x19a00f = await fetch(_0x1094fd, { ..._0x4a23c3, 'signal': _0x4ed287[_0x3bd096(0x18c)] }); return clearTimeout(_0x2b8ecf), _0x19a00f; } async function getHealthcheck() { const _0x178e65 = _0x2037e0; try { const _0x4894a2 = await fetchWithTimeout(urlPrintService + _0x178e65(0x195), { 'timeout': 0x1388 }); if (!_0x4894a2['ok']) return console[_0x178e65(0x1a0)](_0x178e65(0x19f) + _0x4894a2['statusText']), ![]; const _0x165ad4 = await _0x4894a2['json'](); return _0x165ad4[_0x178e65(0x185)] === !![]; } catch (_0x1f2f40) { return _0x1f2f40['name'] === _0x178e65(0x193) ? console[_0x178e65(0x1a0)](_0x178e65(0x18d)) : console[_0x178e65(0x1a0)](_0x178e65(0x184), _0x1f2f40), ![]; } } async function getPrinters() { const _0x69b92c = _0x2037e0; try { const _0x44ebe9 = await fetchWithTimeout(urlPrintService + _0x69b92c(0x183), { 'timeout': 0x2710 }); if (!_0x44ebe9['ok']) throw new Error('Network\x20response\x20was\x20not\x20ok:\x20' + _0x44ebe9[_0x69b92c(0x198)]); const _0x19511e = await _0x44ebe9[_0x69b92c(0x19a)](); return _0x19511e[_0x69b92c(0x185)] ? _0x19511e[_0x69b92c(0x196)] : (console[_0x69b92c(0x1a0)]('Error\x20fetching\x20printers:', _0x19511e['error']), []); } catch (_0x2f305d) { return _0x2f305d[_0x69b92c(0x1a3)] === _0x69b92c(0x193) ? console[_0x69b92c(0x1a0)]('GetPrinters\x20request\x20timed\x20out') : console[_0x69b92c(0x1a0)]('Error\x20fetching\x20printers:', _0x2f305d), []; } } async function printTicket(_0x561a94, _0x27a7c9, _0x399f9b) { const _0x4b86fb = _0x2037e0; try { const _0x1b0fdf = await fetchWithTimeout(urlPrintService + '/imprimir', { 'method': _0x4b86fb(0x192), 'headers': { 'Content-Type': _0x4b86fb(0x19c) }, 'body': JSON[_0x4b86fb(0x189)]({ 'nombreImpresora': _0x27a7c9, 'text': _0x561a94, 'images': _0x399f9b }), 'timeout': 0x3a98 }); if (!_0x1b0fdf['ok']) throw new Error(_0x4b86fb(0x19b) + _0x1b0fdf[_0x4b86fb(0x198)]); const _0xae8a99 = await _0x1b0fdf[_0x4b86fb(0x19a)](); _0xae8a99[_0x4b86fb(0x185)] ? console[_0x4b86fb(0x18f)]('Documento\x20enviado\x20a\x20la\x20impresora\x20con\x20éxito') : console[_0x4b86fb(0x1a0)](_0x4b86fb(0x18b), _0xae8a99['error']); } catch (_0x1deebb) { _0x1deebb[_0x4b86fb(0x1a3)] === _0x4b86fb(0x193) ? (alert(_0x4b86fb(0x18a)), console[_0x4b86fb(0x1a0)]('Print\x20request\x20timed\x20out')) : (alert('Error\x20al\x20enviar\x20el\x20documento\x20a\x20la\x20impresora:\x20' + _0x1deebb['message']), console[_0x4b86fb(0x1a0)]('Error:', _0x1deebb)); } }