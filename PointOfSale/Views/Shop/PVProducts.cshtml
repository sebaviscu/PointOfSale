@using PointOfSale.Models;
@model List<VMProduct>;

<div class="row">
    @foreach (var prod in Model.OrderBy(_ => _.Description))
    {
        <div class="col-md-2 ftco-animate product-list mb-3" category-prod="@prod.IdCategory" description-prd="@prod.Description">
            <div class="product">
                <a href="javascript:void(0)" class="img-prod d-md-block d-none" style="text-align: center;">
                    <img class="img-fluid" src="data:image/png;base64,@prod.PhotoBase64" alt="Imagen" style="min-height: 160px; max-height: 160px; width:auto;">

                    <div class="tags-container">
                        @foreach (var tag in prod.Tags)
                        {
                            <span class="status" style="background-color: @tag.Color">@tag.Nombre</span>
                        }
                    </div>

                    <div class="overlay"></div>
                </a>
                <div class="text pb-1 px-3 text-center product-info" style="height: 110px;">
                    <hr class="d-md-block d-none" />
                    <h3 class="product-description"><a href="javascript:void(0)" descProd="@prod.Description" id="desc-@prod.IdProduct">@prod.Description</a></h3>
                    <div class="d-flex product-pricing">
                        <div class="pricing">
                            @{
                                var precio = prod.PrecioFormatoWeb != null && Convert.ToDecimal(prod.PrecioFormatoWeb) > 0 ? prod.PrecioFormatoWeb : prod.Price;

                                var tipoVenta = prod.FormatoWeb != null && prod.FormatoWeb == 1 ? "U" :
                                prod.FormatoWeb == 1000 ? "Kg" :
                                $"{prod.FormatoWeb}gr";
                            }
                            <p class="price"><span class="price-sale" id="price-@prod.IdProduct" precio="@precio">$@precio</span><small> / @tipoVenta</small></p>
                            <small>@prod.Comentario</small>
                        </div>
                    </div>
                    <div class="bottom-area d-flex px-3" id="bottom-area-@prod.IdProduct">
                        <div class="m-auto d-flex justify-content-center">
                            <a href="javascript:void(0)" class="add-to-cart d-flex justify-content-center align-items-center text-center mx-1 less-button" idProduct="@prod.IdProduct" style="background: #f87272;">
                                <span>-</span>
                            </a>
                            <input type="text" value="0" typeInput="@prod.TipoVenta" id="prod-@prod.IdProduct" class="form-outline w-50 input-producto" style="border-color:lightgray; text-align:center; background-color:white" disabled>
                            <a href="javascript:void(0)" class="remove-to-cart buy-now d-flex justify-content-center align-items-center mx-1 pluss-button" idProduct="@prod.IdProduct">
                                <span>+</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

 <script src="~/js/shop/jquery.min.js"></script>
<script src="~/js/shop/jquery.waypoints.min.js"></script>
<script src="~/js/views/productsShop.js"></script>
<script src="~/js/shop/popper.min.js"></script>
<script src="~/js/shop/bootstrap.min.js"></script>
